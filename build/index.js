// Generated by CoffeeScript 1.10.0
var SI, isEqual,
  slice = [].slice;

SI = require('seamless-immutable');

isEqual = require('is-equal');

module.exports = {
  "new": SI,
  Array: {
    push: function() {
      var pushData, siArray;
      siArray = arguments[0], pushData = 2 <= arguments.length ? slice.call(arguments, 1) : [];
      if (!pushData) {
        return;
      }
      return siArray.concat.apply(siArray, pushData);
    },
    set: function() {
      var setData, setIndex, siArray;
      siArray = arguments[0], setIndex = arguments[1], setData = 3 <= arguments.length ? slice.call(arguments, 2) : [];
      return siArray.flatMap(function(item, index) {
        if (index !== setIndex) {
          return item;
        }
        return setData;
      });
    },
    remove: function(siArray, removeIndex) {
      if (typeof removeIndex !== 'number') {
        return siArray;
      }
      return siArray.flatMap(function(item, index) {
        if (index !== removeIndex) {
          return item;
        }
        return [];
      });
    },
    removeItem: function(siArray, rItem) {
      return siArray.flatMap(function(item, index) {
        if (!isEqual(item, SI(rItem))) {
          return item;
        }
        return [];
      });
    },
    eachAsMutable: function(siArray, itemHandler) {
      var i, len, r, siObject;
      r = [];
      for (i = 0, len = siArray.length; i < len; i++) {
        siObject = siArray[i];
        if (itemHandler) {
          siObject = itemHandler(siObject);
        }
        r.push(siObject.asMutable());
      }
      return r;
    }
  }
};
